{%  load widget_tweaks %}
{% for error in form.non_field_errors %}
<p class="alert alert-danger">{{ error | escape }}</p>
{% endfor %}
{% for field in form %}
    <div class="mb-3 {% if field.errors %} has-error {% endif %}">
        <label for="id_{{  field.html_name }}" class="form-label">{{ field.label }}</label>
        {% for error in field.errors %}
            <p class="alert alert-danger">{{ error | escape }}</p>
        {% endfor %}
        {% if field.html_name == "primary_email" %}
            {% render_field field type="email" class+=" form-control" %}
        {% else %}
            {% render_field field class+=" form-control" %}
        {% endif %}
    </div>
{% endfor %}

